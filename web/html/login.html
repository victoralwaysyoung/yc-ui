{{ template "page/head_start" .}}
<style>
  html * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1 {
    text-align: center;
    /*margin: 20px 0 50px 0;*/
    height: 110px;
  }

  .ant-form-item-children .ant-btn,
  .ant-input {
    height: 50px;
    border-radius: 30px;
  }

  .ant-input-group-addon {
    border-radius: 0 30px 30px 0;
    width: 50px;
    font-size: 18px;
  }

  .ant-input-affix-wrapper .ant-input-prefix {
    left: 23px;
  }

  .ant-input-affix-wrapper .ant-input:not(:first-child) {
    padding-left: 50px;
  }

  .centered {
    display: flex;
    text-align: center;
    align-items: center;
    justify-content: center;
    width: 100%;
  }

  .title {
    font-size: 2rem;
    margin-block-end: 2rem;
  }

  .title b {
    font-weight: bold !important;
  }

  #app {
    overflow: hidden;
  }

  #login {
    animation: charge 0.5s both;
    background-color: #fff;
    border-radius: 2rem;
    padding: 4rem 3rem;
    transition: all 0.3s;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
  }

  #login:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);
  }

  @keyframes charge {
    from {
      transform: translateY(5rem);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .under {
    background-color: #c7ebe2;
    z-index: 0;
  }

  .dark .under {
    background-color: var(--dark-color-login-wave);
  }

  .dark #login {
    background-color: var(--dark-color-surface-100);
  }

  .dark h1 {
    color: rgba(255, 255, 255);
  }

  .ant-btn-primary-login {
    width: 100%;
  }

  .ant-btn-primary-login:focus,
  .ant-btn-primary-login:hover {
    color: #fff;
    background-color: #006655;
    border-color: #006655;
    background-image: linear-gradient(270deg,
        rgba(123, 199, 77, 0) 30%,
        #009980,
        rgba(123, 199, 77, 0) 100%);
    background-repeat: no-repeat;
    animation: ma-bg-move ease-in-out 5s infinite;
    background-position-x: -500px;
    width: 95%;
    animation-delay: -0.5s;
    box-shadow: 0 2px 0 rgba(0, 0, 0, 0.045);
  }

  .ant-btn-primary-login.active,
  .ant-btn-primary-login:active {
    color: #fff;
    background-color: #006655;
    border-color: #006655;
  }

  @keyframes ma-bg-move {
    0% {
      background-position: -500px 0;
    }

    50% {
      background-position: 1000px 0;
    }

    100% {
      background-position: 1000px 0;
    }
  }

  .wave-btn-bg {
    position: relative;
    border-radius: 25px;
    width: 100%;
    transition: all 0.3s cubic-bezier(.645, .045, .355, 1);
  }

  .dark .wave-btn-bg {
    color: #fff;
    position: relative;
    background-color: #0a7557;
    border: 2px double transparent;
    background-origin: border-box;
    background-clip: padding-box, border-box;
    background-size: 300%;
    width: 100%;
    z-index: 1;
  }

  .dark .wave-btn-bg:hover {
    animation: wave-btn-tara 4s ease infinite;
  }

  .dark .wave-btn-bg-cl {
    background-image: linear-gradient(rgba(13, 14, 33, 0), rgba(13, 14, 33, 0)),
      radial-gradient(circle at left top, #006655, #009980, #006655) !important;
    border-radius: 3em;
  }

  .dark .wave-btn-bg-cl:hover {
    width: 95%;
  }

  .dark .wave-btn-bg-cl:before {
    position: absolute;
    content: "";
    top: -5px;
    left: -5px;
    bottom: -5px;
    right: -5px;
    z-index: -1;
    background: inherit;
    background-size: inherit;
    border-radius: 4em;
    opacity: 0;
    transition: 0.5s;
  }

  .dark .wave-btn-bg-cl:hover::before {
    opacity: 1;
    filter: blur(20px);
    animation: wave-btn-tara 8s linear infinite;
  }

  @keyframes wave-btn-tara {
    to {
      background-position: 300%;
    }
  }

  .dark .ant-btn-primary-login {
    font-size: 14px;
    color: #fff;
    text-align: center;
    background-image: linear-gradient(rgba(13, 14, 33, 0.45),
        rgba(13, 14, 33, 0.35));
    border-radius: 2rem;
    border: none;
    outline: none;
    background-color: transparent;
    height: 46px;
    position: relative;
    white-space: nowrap;
    cursor: pointer;
    touch-action: manipulation;
    padding: 0 15px;
    width: 100%;
    animation: none;
    background-position-x: 0;
    box-shadow: none;
  }

  .waves-header {
    position: fixed;
    width: 100%;
    text-align: center;
    background-color: #dbf5ed;
    color: white;
    z-index: -1;
  }

  .dark .waves-header {
    background-color: var(--dark-color-login-background);
  }

  .waves-inner-header {
    height: 50vh;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  .waves {
    position: relative;
    width: 100%;
    height: 15vh;
    margin-bottom: -8px;
    /*Fix for safari gap*/
    min-height: 100px;
    max-height: 150px;
  }

  .parallax>use {
    animation: move-forever 25s cubic-bezier(0.55, 0.5, 0.45, 0.5) infinite;
  }

  .dark .parallax>use {
    fill: var(--dark-color-login-wave);
  }

  .parallax>use:nth-child(1) {
    animation-delay: -2s;
    animation-duration: 4s;
    opacity: 0.2;
  }

  .parallax>use:nth-child(2) {
    animation-delay: -3s;
    animation-duration: 7s;
    opacity: 0.4;
  }

  .parallax>use:nth-child(3) {
    animation-delay: -4s;
    animation-duration: 10s;
    opacity: 0.6;
  }

  .parallax>use:nth-child(4) {
    animation-delay: -5s;
    animation-duration: 13s;
  }

  @keyframes move-forever {
    0% {
      transform: translate3d(-90px, 0, 0);
    }

    100% {
      transform: translate3d(85px, 0, 0);
    }
  }

  @media (max-width: 768px) {
    .waves {
      height: 40px;
      min-height: 40px;
    }
  }

  .words-wrapper {
    width: 100%;
    display: inline-block;
    position: relative;
    text-align: center;
  }

  .words-wrapper b {
    width: 100%;
    display: inline-block;
    position: absolute;
    left: 0;
    top: 0;
  }

  .words-wrapper b.is-visible {
    position: relative;
  }

  .headline.zoom .words-wrapper {
    -webkit-perspective: 300px;
    -moz-perspective: 300px;
    perspective: 300px;
  }

  .headline {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .headline.zoom b {
    opacity: 0;
  }

  .headline.zoom b.is-visible {
    opacity: 1;
    -webkit-animation: zoom-in 0.8s;
    -moz-animation: zoom-in 0.8s;
    animation: cubic-bezier(0.215, 0.610, 0.355, 1.000) zoom-in 0.8s;
  }

  .headline.zoom b.is-hidden {
    -webkit-animation: zoom-out 0.8s;
    -moz-animation: zoom-out 0.8s;
    animation: cubic-bezier(0.215, 0.610, 0.355, 1.000) zoom-out 0.4s;
  }

  @-webkit-keyframes zoom-in {
    0% {
      opacity: 0;
      -webkit-transform: translateZ(100px);
    }

    100% {
      opacity: 1;
      -webkit-transform: translateZ(0);
    }
  }

  @-moz-keyframes zoom-in {
    0% {
      opacity: 0;
      -moz-transform: translateZ(100px);
    }

    100% {
      opacity: 1;
      -moz-transform: translateZ(0);
    }
  }

  @keyframes zoom-in {
    0% {
      opacity: 0;
      -webkit-transform: translateZ(100px);
      -moz-transform: translateZ(100px);
      -ms-transform: translateZ(100px);
      -o-transform: translateZ(100px);
      transform: translateZ(100px);
    }

    100% {
      opacity: 1;
      -webkit-transform: translateZ(0);
      -moz-transform: translateZ(0);
      -ms-transform: translateZ(0);
      -o-transform: translateZ(0);
      transform: translateZ(0);
    }
  }

  @-webkit-keyframes zoom-out {
    0% {
      opacity: 1;
      -webkit-transform: translateZ(0);
    }

    100% {
      opacity: 0;
      -webkit-transform: translateZ(-100px);
    }
  }

  @-moz-keyframes zoom-out {
    0% {
      opacity: 1;
      -moz-transform: translateZ(0);
    }

    100% {
      opacity: 0;
      -moz-transform: translateZ(-100px);
    }
  }

  @keyframes zoom-out {
    0% {
      opacity: 1;
      -webkit-transform: translateZ(0);
      -moz-transform: translateZ(0);
      -ms-transform: translateZ(0);
      -o-transform: translateZ(0);
      transform: translateZ(0);
    }

    100% {
      opacity: 0;
      -webkit-transform: translateZ(-100px);
      -moz-transform: translateZ(-100px);
      -ms-transform: translateZ(-100px);
      -o-transform: translateZ(-100px);
      transform: translateZ(-100px);
    }
  }

  .setting-section {
    position: absolute;
    top: 0;
    right: 0;
    padding: 22px;
  }

  .ant-space-item .ant-switch {
    margin: 2px 0 4px;
  }

  /* 公司品牌标识样式 */
  .company-branding {
    text-align: center;
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 1rem;
    border: 2px solid #e0e6ed;
  }

  .dark .company-branding {
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
    border-color: #4a5568;
  }

  .company-name {
    font-size: 1.2rem;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 0.5rem;
  }

  .dark .company-name {
    color: #e2e8f0;
  }

  .system-type {
    font-size: 0.9rem;
    color: #718096;
    font-style: italic;
  }

  .dark .system-type {
    color: #a0aec0;
  }

  /* 使用条款链接样式 */
  .terms-link {
    text-align: center;
    margin-top: 1rem;
    font-size: 0.85rem;
  }

  .terms-link a {
    color: #006655;
    text-decoration: none;
    cursor: pointer;
  }

  .terms-link a:hover {
    text-decoration: underline;
  }

  .dark .terms-link a {
    color: #4fd1c7;
  }

  /* 使用条款模态框样式 */
  .terms-modal .ant-modal-body {
    max-height: 60vh;
    overflow-y: auto;
    padding: 24px;
  }

  .terms-content {
    line-height: 1.6;
    font-size: 14px;
  }

  .terms-content h3 {
    color: #2c3e50;
    margin-top: 20px;
    margin-bottom: 10px;
    font-size: 16px;
    font-weight: bold;
  }

  .dark .terms-content h3 {
    color: #e2e8f0;
  }

  .terms-content p {
    margin-bottom: 12px;
    text-align: justify;
  }

  .terms-checkbox {
    margin-top: 20px;
    padding: 15px;
    background-color: #f8f9fa;
    border-radius: 8px;
    border: 1px solid #dee2e6;
  }

  .dark .terms-checkbox {
    background-color: #2d3748;
    border-color: #4a5568;
  }
</style>
{{ template "page/head_end" .}}

{{ template "page/body_start" .}}
<a-layout id="app" v-cloak :class="themeSwitcher.currentTheme">
  <transition name="list" appear>
    <a-layout-content class="under" :style="{ minHeight: '0' }">
      <div class="waves-header">
        <div class="waves-inner-header"></div>
        <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
          <defs>
            <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
          </defs>
          <g class="parallax">
            <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(0, 135, 113, 0.08)" />
            <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(0, 135, 113, 0.08)" />
            <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(0, 135, 113, 0.08)" />
            <use xlink:href="#gentle-wave" x="48" y="7" fill="#c7ebe2" />
          </g>
        </svg>
      </div>
      <a-row type="flex" justify="center" align="middle" :style="{ height: '100%', overflow: 'auto', overflowX: 'hidden' }">
        <a-col :xs="22" :sm="12" :md="10" :lg="8" :xl="6" :xxl="5" id="login" :style="{ margin: '3rem 0' }">
          <div class="setting-section">
            <a-popover :overlay-class-name="themeSwitcher.currentTheme" title='{{ i18n "menu.settings" }}' placement="bottomRight" trigger="click">
              <template slot="content">
                <a-space direction="vertical" :size="10">
                  <a-theme-switch-login></a-theme-switch-login>
                  <span>{{ i18n "pages.settings.language" }}</span>
                  <a-select ref="selectLang" :style="{ width: '100%' }" v-model="lang" @change="LanguageManager.setLanguage(lang)" :dropdown-class-name="themeSwitcher.currentTheme">
                    <a-select-option :value="l.value" label="English" v-for="l in LanguageManager.supportedLanguages">
                      <span role="img" aria-label="l.name" v-text="l.icon"></span>
                      &nbsp;&nbsp;<span v-text="l.name"></span>
                    </a-select-option>
                  </a-select>
                </a-space>
              </template>
              <a-button shape="circle" icon="setting"></a-button>
            </a-popover>
          </div>
          <a-row type="flex" justify="center">
            <a-col :style="{ width: '100%' }">
              <!-- 公司品牌标识 -->
              <div class="company-branding">
                <div class="company-name">四川漾式酷玩外贸有限责任公司</div>
                <div class="system-type">内部专用系统</div>
              </div>
              
              <h2 class="title headline zoom">
                <span class="words-wrapper">
                  <b class="is-visible">{{ i18n "pages.login.hello" }}</b>
                  <b>{{ i18n "pages.login.title" }}</b>
                </span>
              </h2>
            </a-col>
          </a-row>
          <a-row type="flex" justify="center">
            <a-col span="24">
              <a-form>
                <a-space direction="vertical" size="middle">
                  <a-form-item>
                    <a-input autocomplete="username" name="username" v-model.trim="user.username"
                      placeholder='{{ i18n "username" }}' @keydown.enter.native="login" autofocus>
                      <a-icon slot="prefix" type="user" :style="{ fontSize: '1rem' }"></a-icon>
                    </a-input>
                  </a-form-item>
                  <a-form-item>
                    <a-input-password autocomplete="password" name="password" v-model.trim="user.password"
                      placeholder='{{ i18n "password" }}' @keydown.enter.native="login">
                      <a-icon slot="prefix" type="lock" :style="{ fontSize: '1rem' }"></a-icon>
                    </a-input-password>
                  </a-form-item>
                  <a-form-item v-if="twoFactorEnable">
                    <a-input autocomplete="totp" name="twoFactorCode" v-model.trim="user.twoFactorCode"
                      placeholder='{{ i18n "twoFactorCode" }}' @keydown.enter.native="login">
                      <a-icon slot="prefix" type="key" :style="{ fontSize: '1rem' }"></a-icon>
                    </a-input>
                  </a-form-item>
                  <a-form-item>
                    <a-row justify="center" class="centered">
                      <div :style="{ height: '50px', marginTop: '1rem', ...loading ? { width: '52px' } : { display: 'inline-block' } }" class="wave-btn-bg wave-btn-bg-cl">
                        <a-button class="ant-btn-primary-login" type="primary" :loading="loading" @click="login"
                          :icon="loading ? 'poweroff' : undefined" :disabled="!termsAccepted"
                          :title="!termsAccepted ? '请先阅读并同意使用条款才可以进行登录' : ''">
                          [[ loading ? '' : '{{ i18n "login" }}' ]]
                        </a-button>
                      </div>
                    </a-row>
                  </a-form-item>
                  
                  <!-- 使用条款链接 -->
                  <div class="terms-link">
                    <a @click="showTermsModal = true">阅读并同意使用条款</a>
                  </div>
                </a-space>
              </a-form>
            </a-col>
          </a-row>
        </a-col>
      </a-row>
    </a-layout-content>
  </transition>

  <!-- 使用条款模态框 -->
  <a-modal
    v-model="showTermsModal"
    title="使用条款"
    :width="800"
    :footer="null"
    :mask-closable="false"
    class="terms-modal"
    :class="themeSwitcher.currentTheme"
    @cancel="closeTermsModal">
    <div class="terms-content">
      <p><strong>重要提示：</strong>请在使用本软件前仔细阅读以下协议内容。如您不同意本协议的任何条款，请立即停止使用并卸载本软件。一旦您勾选"我已阅读并同意以上协议"并登录使用，即视为您已充分理解、认可并无条件接受本协议全部内容，本协议即构成对双方具有法律约束力的有效文件。</p>
      
      <h3>第一部分：软件性质与使用目的</h3>
      <p>1. 本软件系四川漾式酷玩外贸有限责任公司（以下简称"本公司"）为满足合法合规的跨境电子商务运营技术需要，基于企业内部网络互联需求，在合规范围内为持证合格的进出口企业提供专用网络接入与技术咨询服务。仅限于访问经公司白名单审核的国际电子商务平台（例如：Amazon、eBay、Alibaba International 等），用途仅限于开展正当的国际贸易活动，不得用于其他任何用途。</p>
      <p>2. 本公司声明：本软件不应被理解或用于规避国家网络监管、访问非法网站、散播违法信息或实施任何危害国家安全、公共安全或他人合法权益的行为。本公司严守《中华人民共和国网络安全法》《中华人民共和国数据安全法》及相关法规要求。用户使用本软件须在法律允许与合规边界内。</p>
      
      <h3>第二部分：用户资格与合规承诺</h3>
      <p>1. 使用资格：用户须为在中国境内依法登记注册并合法存续的企业法人（含外贸企业、进出口公司等），并能向本公司提供有效企业营业执照复印件、法定代表人/负责人身份证明、企业对外贸易资质证明及企业联系人信息，接受本公司的合规尽职调查（KYC）。</p>
      <p>2. 使用目的限定：用户承诺仅为合规的对外贸易/国际电商运营目的使用本软件；严禁用于访问境外违法、涉恐涉暴、涉黄涉赌、侵犯知识产权、侵害国家秘密或其他任何违法信息或服务。</p>
      <p>3. 禁止行为：用户不得反向工程、二次分发、对外售卖、转许可或以任何方式商业化该软件，不得设立二级代理或为非本公司许可第三方提供接入。</p>
      
      <h3>第三部分：访问范围与技术限制（强制）</h3>
      <p>1. 白名单原则：本公司仅对经审核同意的外部网站/IP建立访问通道，默认仅允许访问经过列入白名单的国际电商平台及相关业务IP/域名；其他全部外部网站默认封禁或无法解析访问。</p>
      <p>2. 非商业化/非对外开放：本软件仅为内部/客户企业专用，不提供公众下载或销售。一切对外宣称为"VPN服务""翻墙服务"等的宣传均禁止。</p>
      <p>3. 访问日志与合规审计：为履行法律义务并响应监管要求，本公司将对用户访问行为保留必要的最少量合规日志（如连接时间、接入 IP 段、访问目标域名或IP段、认证主体），并按法律法规要求保存与配合司法/主管机关调查。用户不得以任何理由干预或篡改日志。此日志存于用户自身的服务器上，本公司只保留相应服务器IP，正常合规使用的情况下无需担心隐私泄露。</p>
      
      <h3>第四部分：风险提示与责任分配</h3>
      <p>1. 风险提示：任何网络技术均存在不可预见的风险（包括但不限于网络中断、数据丢失、第三方攻击或监管变更导致的访问限制等），因此用户需自行评估风险并自行承担可能损失。</p>
      <p>2. 责任豁免：若用户违反本协议条款或违反法律法规而产生行政处罚、民事赔偿或刑事责任的，相关责任由用户自行承担。本公司在不违反法律要求的前提下，将配合主管机关调查。</p>
      <p>3. 合规配合义务：用户应配合本公司的合规审查与整改要求，包括但不限于提供必要证照资料、接受安全检测、配合关闭违规行为等。如用户不配合，公司有权终止服务并保留追究其违约及法律责任的权利。</p>
      
      <h3>第五部分：商业模式与许可说明</h3>
      <p>1. 非经营性提供：本公司对外提供的是技术咨询，非直接对公众经营的 VPN 商业服务。任何要求提供大规模对外接入或代理的请求，应通过正规电信/机房资质审查与许可审批程序进行。</p>
      
      <h3>第六部分：用户承诺与违约责任</h3>
      <p>1. 用户承诺遵守国家法律法规，如发现用户有违法违规行为，本公司有权立即暂停或终止其使用权限并向主管机关报告。</p>
      <p>2. 若因用户违法使用导致本公司遭受行政处罚、民事索赔或刑事追究，用户应承担全部责任并赔偿公司因此产生的所有损失（含但不限于罚款、律师费、停产停业损失及名誉损失等）。</p>
      
      <h3>第七部分：争议解决与适用法律</h3>
      <p>1. 本说明书及其衍生争议均适用中华人民共和国法律。双方因本说明书产生争议，应首先友好协商，协商不成的，任一方可向本公司所在地有管辖权的人民法院提起诉讼。</p>
      <p>2. 生效：本说明书自用户在登录界面点击"我已阅读并同意"并登录之日起生效。</p>
    </div>
    
    <div class="terms-checkbox">
      <a-checkbox v-model="tempTermsAccepted">
        我已阅读并同意以上协议
      </a-checkbox>
    </div>
    
    <div style="text-align: center; margin-top: 20px;">
      <a-button @click="closeTermsModal" style="margin-right: 10px;">取消</a-button>
      <a-button type="primary" @click="acceptTerms" :disabled="!tempTermsAccepted">确认</a-button>
    </div>
  </a-modal>
</a-layout>
{{template "page/body_scripts" .}}
{{template "component/aThemeSwitch" .}}
<script>
  const app = new Vue({
    delimiters: ['[[', ']]'],
    el: '#app',
    data: {
      themeSwitcher,
      loading: false,
      user: {
        username: "",
        password: "",
        twoFactorCode: ""
      },
      twoFactorEnable: false,
      lang: "",
      showTermsModal: false,
      termsAccepted: false,
      tempTermsAccepted: false
    },
    async mounted() {
      this.lang = LanguageManager.getLanguage();
      this.twoFactorEnable = await this.getTwoFactorEnable();
    },
    methods: {
      async login() {
        if (!this.termsAccepted) {
          this.$message.warning('请先阅读并同意使用条款');
          return;
        }
        this.loading = true;
        const msg = await HttpUtil.post('/login', this.user);
        this.loading = false;
        if (msg.success) {
          location.href = basePath + 'panel/';
        }
      },
      async getTwoFactorEnable() {
        this.loading = true;
        const msg = await HttpUtil.post('/getTwoFactorEnable');
        this.loading = false;
        if (msg.success) {
          this.twoFactorEnable = msg.obj;
          return msg.obj;
        }
      },
      acceptTerms() {
        if (this.tempTermsAccepted) {
          this.termsAccepted = true;
          this.showTermsModal = false;
          this.$message.success('已同意使用条款，现在可以登录');
        }
      },
      closeTermsModal() {
        this.tempTermsAccepted = false;
        this.termsAccepted = false;  // 重置同意状态
        this.showTermsModal = false;
      }
    },
  });

  document.addEventListener("DOMContentLoaded", function () {
    var animationDelay = 2000;
    initHeadline();

    function initHeadline() {
      animateHeadline(document.querySelectorAll('.headline'));
    }

    function animateHeadline(headlines) {
      var duration = animationDelay;
      headlines.forEach(function (headline) {
        setTimeout(function () {
          hideWord(headline.querySelector('.is-visible'));
        }, duration);
      });
    }

    function hideWord(word) {
      var nextWord = takeNext(word);
      switchWord(word, nextWord);
      setTimeout(function () {
        hideWord(nextWord);
      }, animationDelay);
    }

    function takeNext(word) {
      return word.nextElementSibling ? word.nextElementSibling : word.parentElement.firstElementChild;
    }

    function switchWord(oldWord, newWord) {
      oldWord.classList.remove('is-visible');
      oldWord.classList.add('is-hidden');
      newWord.classList.remove('is-hidden');
      newWord.classList.add('is-visible');
    }
  });
</script>
{{ template "page/body_end" .}}